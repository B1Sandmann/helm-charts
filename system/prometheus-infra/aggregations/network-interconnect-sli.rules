groups:
- name: sli_network_interconnect_error_ratio
  rules:      
  - record: sli:network_interconnect_errors:ratio_rate5m
    expr: |2
      (rate(cloudprober_total{probed_to_type="master"}[5m])-rate(cloudprober_success{probed_to_type="master"}[5m]))/rate(cloudprober_success{probed_to_type="master"}[5m])
  - record: sli:network_interconnect_errors:ratio_rate30m
    expr: |2
      (rate(cloudprober_total{probed_to_type="master"}[30m])-rate(cloudprober_success{probed_to_type="master"}[30m]))/rate(cloudprober_success{probed_to_type="master"}[30m])
  - record: sli:network_interconnect_errors:ratio_rate1h
    expr: |2
      (rate(cloudprober_total{probed_to_type="master"}[1h])-rate(cloudprober_success{probed_to_type="master"}[1h]))/rate(cloudprober_success{probed_to_type="master"}[1h])
  - record: sli:network_interconnect_errors:ratio_rate2h
    expr: |2
      (rate(cloudprober_total{probed_to_type="master"}[2h])-rate(cloudprober_success{probed_to_type="master"}[2h]))/rate(cloudprober_success{probed_to_type="master"}[2h])
  - record: sli:network_interconnect_errors:ratio_rate6h
    expr: |2
      (rate(cloudprober_total{probed_to_type="master"}[6h])-rate(cloudprober_success{probed_to_type="master"}[6h]))/rate(cloudprober_success{probed_to_type="master"}[6h])
  - record: sli:network_interconnect_errors:ratio_rate1d
    expr: |2
      (rate(cloudprober_total{probed_to_type="master"}[1d])-rate(cloudprober_success{probed_to_type="master"}[1d]))/rate(cloudprober_success{probed_to_type="master"}[1d])
  - record: sli:network_interconnect_errors:ratio_rate3d
    expr: |2
      (rate(cloudprober_total{probed_to_type="master"}[3d])-rate(cloudprober_success{probed_to_type="master"}[3d]))/rate(cloudprober_success{probed_to_type="master"}[3d])