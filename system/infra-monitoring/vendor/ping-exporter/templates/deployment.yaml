{{- if .Values.enabled }}

{{ range $i, $prober := .Values.pingProbers -}}
{{ if ne $i 0}}--{{ end }}

kind: Deployment
apiVersion: extensions/v1beta1

metadata:
  name: ping-exporter-{{$prober}}

spec:
  replicas: 1
  templates:
    spec:
      containers:
        - name: ping-exporter-{{$prober}}
          image: czerwonk/ping_exporter:latest
          imagePullPolicy: Always

---
{{ end -}}
{{ end -}}