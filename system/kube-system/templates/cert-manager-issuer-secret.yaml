{{ if and .Values.cert_issuer .Values.cert_issuer.enabled -}}
{{- range $issuer := .Values.cert_issuer.issuers }}
apiVersion: v1
kind: Secret
type: Opaque

metadata:
  name: cert-manager-issuer-secret-{{ $issuer.name }}
  namespace: kube-system

data:
  authPassword: {{ required "missing openstack password" $issuer.designate.password | b64enc | quote }}
---
{{- end }}
{{- end }}