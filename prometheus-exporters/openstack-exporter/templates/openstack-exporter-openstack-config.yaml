apiVersion: v1
kind: ConfigMap
metadata:
  name: openstack-exporter-openstack-config
data:
  openstack-config.yaml: |
    exporter:
      log_level: {{ required ".Values.openstack.log_level missing" .Values.openstack.log_level }}
      prometheus_port: {{ required ".Values.openstack.port_number missing" .Values.openstack.port_number | quote }}
    openstack:
      auth_url: {{ required ".Values.openstack.auth_url missing" .Values.openstack.auth_url }}
      username: {{ required ".Values.openstack.username missing" .Values.openstack.username }}
      password: {{ required ".Values.openstack.password missing" .Values.openstack.password }}
      user_domain_name: {{ required ".Values.openstack.user_domain_name missing" .Values.openstack.user_domain_name }}
      project_domain_name: {{ required ".Values.openstack.project_domain_name missing" .Values.openstack.project_domain_name }}
      project_name: {{ required ".Values.openstack.project_name missing" .Values.openstack.project_name }}
      region: {{ required ".Values.openstack.region missing" .Values.openstack.region }}
