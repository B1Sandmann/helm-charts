apiVersion: "openstack.stable.sap.cc/v1"
kind: "OpenstackSeed"
metadata:
  name: octobus-seed
  labels:
    app: {{ template "fullname" . }}
    chart: "{{ .Chart.Name }}-{{ .Chart.Version }}"
    release: "{{ .Release.Name }}"
    heritage: "{{ .Release.Service }}"
spec:
  requires:
    # ?? what is required ??
    #- monsoon3/keystone-seed
    #- monsoon3/domain-cc3test-seed
    #- swift/swift-seed
    #- limes/limes-seed

  services:
  # ?? We have no service yet ??
  #- name: sapcc-billing
  #  type: sapcc-billing
  #  description: 'SAP Converged Cloud Billing services'
  #  endpoints:
  #  - interface: public
  #    region: '{{.Values.global.region}}'
  #    url: 'https://billing.{{.Values.global.region}}.cloud.sap:64000'

  domains:
  - name: ccadmin
    projects:
    projects:    
    - name: octobus
      description: 'data collection, monitoring, analytics, event processing and storage infrastructure https://wiki.wdf.sap.corp/wiki/x/mqygd'
      - group: CCADMIN_OCTOBUS-ADM
        role: admin
      - group: CCADMIN_OCTOBUS-ADM
        role: compute_admin
      - group: CCADMIN_OCTOBUS-ADM
        role: dns_viewer
      - group: CCADMIN_OCTOBUS-ADM
        role: keymanager_admin
      - group: CCADMIN_OCTOBUS-ADM
        role: kubernetes_admin
      - group: CCADMIN_OCTOBUS-ADM
        role: member
      - group: CCADMIN_OCTOBUS-ADM
        role: monitoring_viewer
      - group: CCADMIN_OCTOBUS-ADM
        role: network_admin
      - group: CCADMIN_OCTOBUS-ADM
        role: resource_admin
      - group: CCADMIN_OCTOBUS-ADM
        role: sharedfilesystem_admin
      - group: CCADMIN_OCTOBUS-ADM
        role: swiftoperator
      - group: CCADMIN_OCTOBUS-ADM
        role: volume_admin
      - group: CCADMIN_OCTOBUS-MEMBER
        role: audit_viewer
      - group: CCADMIN_OCTOBUS-MEMBER
        role: compute_viewer
      - group: CCADMIN_OCTOBUS-MEMBER
        role: dns_viewer
      - group: CCADMIN_OCTOBUS-MEMBER
        role: keymanager_viewer
      - group: CCADMIN_OCTOBUS-MEMBER
        role: member
      - group: CCADMIN_OCTOBUS-MEMBER
        role: monitoring_viewer
      - group: CCADMIN_OCTOBUS-MEMBER
        role: network_viewer
      - group: CCADMIN_OCTOBUS-MEMBER
        role: resource_viewer
      - group: CCADMIN_OCTOBUS-MEMBER
        role: sharedfilesystem_viewer
      - group: CCADMIN_OCTOBUS-MEMBER
        role: volume_viewer

    groups:
    - name: CCADMIN_OCTOBUS-MEMBER
      roles:
      - project: octobus
        role: admin
      - project: octobus
        role: compute_admin
      - project: octobus
        role: dns_viewer
      - project: octobus
        role: keymanager_admin
      - project: octobus
        role: kubernetes_admin
      - project: octobus
        role: member
      - project: octobus
        role: monitoring_viewer
      - project: octobus
        role: network_admin
      - project: octobus
        role: resource_admin
      - project: octobus
        role: sharedfilesystem_admin
      - project: octobus
        role: swiftoperator
      - project: octobus
        role: volume_admin
    - name: CCADMIN_OCTOBUS-ADM
      roles:
      - project: octobus
        role: audit_viewer
      - project: octobus
        role: compute_viewer
      - project: octobus
        role: dns_viewer
      - project: octobus
        role: keymanager_viewer
      - project: octobus
        role: member
      - project: octobus
        role: monitoring_viewer
      - project: octobus
        role: network_viewer
      - project: octobus
        role: resource_viewer
      - project: octobus
        role: sharedfilesystem_viewer
      - project: octobus
        role: volume_viewer