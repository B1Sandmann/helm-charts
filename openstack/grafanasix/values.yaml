# Default values for grafana.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
#REMOVEreplicaCount: 1
#REMOVEimage:
#REMOVE  repository: "@/cc/secrets"
#REMOVE  pullPolicy: IfNotPresent
#REMOVE  version: "@/cc/secrets"
#REMOVEnamespace: '@/cc/secrets'
#REMOVEservice:
#REMOVE  name: grafana
#REMOVE  type: ClusterIP
#REMOVE  externalPort: 3000
#REMOVE  internalPort: 3000
#resources:
#  limits:
#    cpu: 100m
#    memory: 128Mi
#  requests:
#    cpu: 100m
#    memory: 128Mi
#postgres:
#  image: postgres
#  image_version: 9.5
#  persistence:
#    # enabled: true
#    enabled: false
#  user: postgres
#  password: '@/cc/secrets'
#  backup:
#    enabled: false
#    repository: DEFINED-IN-REGION-SECRETS
#    image_version: 'v0.5.15'
#    name: DEFINED-IN-REGION-SECRETS
#    interval_full: 1 hours
#    os_auth_url: DEFINED-IN-REGION-SECRETS
#    os_username: db_backup
#    os_user_domain: Default
#    os_project_name: master
#    os_project_domain: ccadmin
#    os_region_name: DEFINED-IN-REGION-SECRETS
#    os_password: DEFINED-IN-REGION-SECRETS
#REMOVEpersistence:
#  enabled: false
#REMOVE  name: storage-grafana-postgres-0
#REMOVE  accessMode: ReadWriteMany
#REMOVE  size: 10Gi

ingress:
  enabled: false
  global: false

#REMOVE - this will go soon - start
elasticsearch:
  # version may be overridden to 5 in some landscapes
  version: 5
  admin:
    user: 'admin'
    password: '@/cc/secrets'
  master_project_id: '@/cc/secrets'
#REMOVE - this will go soon - end
#REMOVEadmin:
#REMOVE  project:
#REMOVE    domain:
#REMOVE      name: '@/cc/secrets'
grafana:
  vice_president: true
  disco: true
  image: grafana/grafana
  image_version: 6.3.5
  minitrue_version: v0.9.5
#REMOVE  seeding_enabled: true
  log_level: 'Info'
  admin:
    user: 'grafana_admin'
    password: '@/cc/secrets'
  local:
    user: 'local'
    password: '@/cc/secrets'
  db:
    type: 'postgres'
    host: 'postgres.grafana'
    ssl_mode: disable
  role:
    viewer: 'monitoring_viewer'
    editor: 'monitoring_editor'
    admin: 'monitoring_admin'
#REMOVE  aes:
#REMOVE    key: '@/cc/secrets'
  port:
    public: '3000'
  endpoint:
    port:
      public: '3000'
    host:
      public: '@/cc/secrets'
  auth:
    basic_auth:
      enabled: true
    tls_client_auth:
      enabled: true
      secret: "kube-system/ingress-cacrt"
    ldap:
      enabled: true
    anonymous:
      enabled: false

# For kiosk mode
nginx:
  enabled: false
  image: nginx
  image_version: 1.15-alpine
  port:
    public: '3001'
  endpoint:
    port:
      public: '3001'
    host:
      public: '@/cc/secrets'

postgresql:
  image: '@/cc/secrets'
  imageTag: '9.4.21'
  metrics:
    enabled: false
  postgresDatabase: grafana
  postgresUser: postgres
  postgresPassword: '@/cc/secrets'
  persistence:
    enabled: false
    existingClaim: storage-grafana-postgres-0
  backup:
    enabled: true
    metrics: true
    os_password: '@/cc/secrets'
  pgbouncer:
    enabled: false
  nameOverride: pgsql

# certs required for some datasources
authentication:
  enabled: false
  # defined via secrets.
  # ssoCert:
  # ssoKey:
  # caCert:
